{"version":3,"sources":["layout/Header.js","components/toggleable/Toggleable.js","components/toggleable/ToggledState.js","components/toggleable/Toggled.js","components/student/StudentInfo.js","layout/home/ApiLists.js","layout/Notifications.js","layout/home/Title.js","components/accordion/Accordion.js","components/accordion/AccordionHead.js","components/accordion/AccordionIcon.js","components/accordion/AccordionContent.js","layout/home/Accordions.js","context/StudentContext.js","hooks/useRegisterSubmit.js","hooks/useFields.js","hooks/useUpdateSubmit.js","hoc/StudentSubmit.js","components/apps/StudentSubmit.js","components/apps/StudentSearch.js","components/cards/Cards.js","layout/home/HomeApps.js","pages/HomePage.js","components/apps/StudentFileUpload.js","layout/student/StudentButtons.js","layout/student/StudentInfo.js","layout/student/StudentApps.js","pages/StudentPage.js","pages/NotFoundPage.js","services/PageRouter.js","App.js","index.js"],"names":["Header","children","className","src","alt","ToggleContext","createContext","status","setStatus","Toggleable","initialStatus","useState","Provider","value","timestamp","Date","now","ToggledState","toggleable","useContext","includes","Toggler","TogglerButton","props","caption","buttonProps","toggledStatus","onClick","Toggling","StudentDisplay","students","notFound","formatAs","Array","isArray","length","map","student","key","uuid","StudentContainer","source","loading","apiCall","setApiCall","useEffect","cancelCall","axios","get","cancelToken","CancelToken","then","response","data","catch","e","useStudentApi","currentDate","month","getMonth","year","getFullYear","day","getDate","accordions","id","title","content","birthDate","birth","fullname","getUTCDate","getUTCMonth","enrollDate","enroll","monthDifference","getUTCFullYear","fee","notifications","NotificationsDisplay","notification","Notifications","Title","subtitle","AccordionContext","React","onToggle","isActive","Accordion","active","setActive","AccordionHead","accordion","AccordionIcon","AccordionContent","wrapper","useRef","observer","MutationObserver","current","style","height","scrollHeight","observe","childList","subtree","disconnect","useLayoutEffect","ref","Accordions","StudentContext","StudentWrapper","URLSearchParams","window","location","search","useRegisterSubmit","studentRef","studentFields","submitted","issued","formSubmit","setFormSubmit","error","formError","setFormError","fields","useRegularFields","formFields","event","preventDefault","form","target","post","previous","issuedAt","issuedToken","reset","err","failure","useUpdateSubmit","studentUUID","update","counts","initializedFields","setInitializedFields","cancelInit","Error","rawFields","Object","keys","reduce","initialized","field","defaultValue","type","split","String","create","submittedCount","errorCount","useInitializedFields","put","StudentSubmit","useStudentSubmit","renderSubmitted","renderError","assign","name","useStudentInput","onStudentInput","formSubmitted","onStudentSubmit","onSubmit","label","onInput","required","StudentRegister","StudentUpdate","StudentFields","this","SearchBar","setQuery","onChange","SearchResults","query","href","StudentSearch","Card","FlashCard","duration","isExpired","expired","setExpired","disappear","setTimeout","clearTimeout","lastname","level","HomeApps","submit","expiresIn","Home","StudentFileUpload","initialSource","filetype","renderFile","setSource","fileToUpload","fetch","method","body","json","files","StudentPhoto","onPhotoError","onError","StudentReport","download","toISOString","StudentUnsubButton","delete","StudentEditButton","StudentInfo","StudentApps","Student","NotFound","PageRouter","exact","path","HomePage","StudentPage","NotFoundPage","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d37a5683.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Header({children}) {\r\n    return (\r\n        <header>\r\n            <img className = \"img-logo\" src = \"./logo.png\" alt = \"logo\"/>\r\n            {children}\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React, {createContext, useState} from \"react\";\r\n\r\nconst ToggleContext = createContext({status: null, setStatus: () => {}});\r\n\r\nfunction Toggleable({initialStatus = false, className, children}) {\r\n    const [status, setStatus] = useState(initialStatus);\r\n    return (\r\n        <ToggleContext.Provider value = {{status, setStatus, timestamp: Date.now()}}>\r\n            <div className = {className}>{children}</div>\r\n        </ToggleContext.Provider>\r\n    );\r\n}\r\n\r\nexport {Toggleable, ToggleContext};","import React, {useContext} from \"react\";\r\nimport {ToggleContext} from \"./Toggleable.js\";\r\n\r\nfunction ToggledState({status, children}) {\r\n    const toggleable = useContext(ToggleContext);\r\n    return (status.includes(toggleable.status) && <>{children}</>);\r\n}\r\n\r\nexport {ToggledState};","import React, {useContext} from \"react\";\r\nimport {ToggleContext} from \"./Toggleable\";\r\n\r\nfunction Toggler({className, children}) {\r\n    return (\r\n        <div className = {className}>{children}</div>\r\n    );\r\n}\r\n\r\nfunction TogglerButton(props) {\r\n    const {caption, status, ...buttonProps} = {...props};\r\n    const toggleable = useContext(ToggleContext);\r\n    const toggledStatus = status || !toggleable.status;\r\n    return (\r\n        <button onClick = {() => toggleable.setStatus(toggledStatus)} {...buttonProps}>\r\n            {caption}\r\n        </button>\r\n    )\r\n}\r\n\r\nfunction Toggling({children}) {\r\n    return (<>{children}</>);\r\n}\r\n\r\nexport {Toggler, TogglerButton, Toggling};","import React, {useEffect, useState, Fragment} from \"react\";\r\nimport axios, {CancelToken} from \"axios\";\r\n\r\nfunction StudentContainer({source, notFound, loading, timestamp, children}) {\r\n    const [apiCall] = useStudentApi({source, timestamp});\r\n    return (\r\n        <>\r\n            {apiCall.loading\r\n            ? loading\r\n            : <StudentDisplay \r\n            students = {apiCall.students} \r\n            notFound = {notFound}\r\n            formatAs = {children}\r\n            />}\r\n        </>\r\n    )\r\n}\r\n\r\nfunction StudentDisplay({students, notFound, formatAs}) {\r\n    if (!Array.isArray(students) || students.length < 1) return <p>{notFound}</p>;\r\n    return students.map(student => (\r\n        <Fragment key = {student.uuid}>{formatAs(student)}</Fragment>\r\n    ));\r\n}\r\n\r\nfunction useStudentApi({source, timestamp}) {\r\n    const [apiCall, setApiCall] = useState({loading: true, students: null});\r\n    useEffect(() => {\r\n        let cancelCall;\r\n        function fetchStudents() {\r\n            axios.get(source, {cancelToken: new CancelToken(cancelToken => cancelCall = cancelToken)})\r\n            .then(response => { const students = response.data; setApiCall({loading: false, students}); })\r\n            .catch(e => /*axios.isCancel(e)*/ undefined); //DO SOMETHING\r\n        }\r\n        fetchStudents();\r\n        return () => cancelCall();\r\n    }, [source, timestamp]);\r\n    return [apiCall];\r\n}\r\n\r\nexport default StudentContainer;","const currentDate = new Date();\r\nconst month = currentDate.getMonth() + 1;\r\nconst year = currentDate.getFullYear();\r\nconst day = currentDate.getDate();\r\n\r\nconst accordions = [\r\n    {\r\n        id: \"BirthMonth\",\r\n        title: \"Cumpleaños del Mes\",\r\n        content: {\r\n            source: `/api/students?date_month_birth=${month}`,\r\n            notFound: \"Nadie cumple años este mes...\",\r\n            formatAs: formatBirthMonth\r\n        }\r\n    },\r\n    {\r\n        id: \"AnnivMonth\",\r\n        title: \"Aniversarios del Mes\",\r\n        content: {\r\n            source: `/api/students?date_month_anivs=${month}&date_year_anivs=${year}`,\r\n            notFound: \"Nadie festeja su aniversario este mes...\",\r\n            formatAs: formatAnnivMonth\r\n        }\r\n    },\r\n    {\r\n        id: \"PaymentMonth\",\r\n        title: \"Pagos del Mes\",\r\n        content: {\r\n            source: `/api/students?compare_gt_fee=pay-current`,\r\n            notFound: \"Nadie debe pagos de este mes...\",\r\n            formatAs: formatPay\r\n        }\r\n    },\r\n];\r\n\r\nconst notifications = [\r\n    {\r\n        id: \"BirthDay\",\r\n        content: {\r\n            source: `/api/students?date_month_birth=${month}&date_dayOfMonth_birth=${day}`,\r\n            notFound: \"Nadie cumple años hoy...\",\r\n            formatAs: formatBirthDay\r\n        }\r\n    },\r\n    {\r\n        id: \"AnnivDay\",\r\n        content: {\r\n            source: `/api/students?date_month_anivs=${month}&date_year_anivs=${year}&date_dayOfMonth_anivs=${day}`,\r\n            notFound: \"Nadie festeja su aniversario hoy...\",\r\n            formatAs: formatAnnivDay\r\n        }\r\n    }\r\n];\r\n\r\nfunction formatBirthDay(student) {\r\n    return `El cumpleaños de ${student.fullname} es hoy! Felicitalo(a)!`;\r\n}\r\n\r\nfunction formatAnnivDay(student) {\r\n    const enrollDate = new Date(student.enroll);\r\n    const monthDifference = 12 * (currentDate.getFullYear() - enrollDate.getUTCFullYear()) + currentDate.getMonth() - enrollDate.getUTCMonth();\r\n    return monthDifference %  3 === 0 && monthDifference > 0 && monthDifference < 15\r\n        ? `El aniversario de ${monthDifference} meses de ${student.fullname} es hoy! Felicitalo(a)!`\r\n        : null;\r\n}\r\n\r\nfunction formatBirthMonth(student) {\r\n    const birthDate = new Date(student.birth);\r\n    return `El cumpleaños de ${student.fullname} es ${birthDate.getUTCDate()} /  ${birthDate.getUTCMonth() + 1}`;\r\n}\r\n\r\nfunction formatAnnivMonth(student) {\r\n    const enrollDate = new Date(student.enroll);\r\n    const monthDifference = 12 * (currentDate.getFullYear() - enrollDate.getUTCFullYear()) + currentDate.getMonth() - enrollDate.getUTCMonth();\r\n    return monthDifference %  3 === 0 && monthDifference > 0 && monthDifference < 15\r\n        ? `${student.fullname} celebra ${monthDifference} meses en Kumon`\r\n        : null;\r\n}\r\n\r\nfunction formatPay(student) {\r\n    return `${student.fullname} ha pagado $${student[\"pay-current\"]} / $${student.fee}`;\r\n}\r\n\r\nexport {accordions, notifications};","import React from \"react\";\r\nimport {Toggleable} from \"../components/toggleable/Toggleable.js\";\r\nimport {ToggledState} from \"../components/toggleable/ToggledState.js\";\r\nimport {Toggling, Toggler, TogglerButton} from \"../components/toggleable/Toggled.js\";\r\nimport StudentContainer from \"../components/student/StudentInfo.js\";\r\nimport {notifications} from \"./home/ApiLists.js\";\r\n\r\nfunction Notifications() {\r\n    return ( \r\n        <Toggleable initialStatus = {false} className = \"notification-panel\">\r\n            <Toggler className = \"notification-button\">\r\n                <TogglerButton caption = \"Ver\"/>\r\n            </Toggler>\r\n            <Toggling>\r\n                <ToggledState status = {[true]}>\r\n                    <NotificationsDisplay />\r\n                </ToggledState>\r\n                <ToggledState status = {[false]}>\r\n                    {null}\r\n                </ToggledState>\r\n            </Toggling>\r\n        </Toggleable>\r\n    );\r\n}\r\n\r\nfunction NotificationsDisplay() {\r\n    return (\r\n        <div className = \"notifications\">\r\n            {notifications.map(notification => (\r\n                <StudentContainer key = {notification.id}\r\n                source = {notification.content.source}\r\n                notFound = {notification.content.notFound}\r\n                >\r\n                    {student => {\r\n                            const content = notification.content.formatAs(student);\r\n                            return content ? <p>{content}</p> : null;\r\n                    }}\r\n                </StudentContainer>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Notifications;","import React from \"react\";\r\n\r\nfunction Title({className, title, subtitle, children}) {\r\n    return (\r\n        <div className = {className}>\r\n            <h2>{title}</h2>\r\n            <h3>{subtitle}</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Title;","import React, {useState} from \"react\";\r\n\r\nconst AccordionContext = React.createContext(\r\n    {onToggle: () => {}, isActive: null}\r\n);\r\n\r\nfunction Accordion({children}) {\r\n    const [active, setActive] = useState(false);\r\n    const onToggle = () => setActive(!active);\r\n    return (\r\n        <AccordionContext.Provider value = {{onToggle, isActive: active}}>\r\n            <section className = \"accordion\">\r\n                {children}\r\n            </section>\r\n        </AccordionContext.Provider>\r\n    );\r\n}\r\n\r\nexport {Accordion, AccordionContext};","import React, {useContext} from \"react\";\r\nimport {AccordionContext} from \"./Accordion.js\";\r\n\r\nfunction AccordionHead({title, children}) {\r\n    const accordion = useContext(AccordionContext);\r\n    return (\r\n        <div className = \"accordion-head\" onClick = {accordion.onToggle}>\r\n            <span className = \"accordion-title\">\r\n                {title}\r\n            </span>\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AccordionHead;","import React, {useContext} from \"react\";\r\nimport {AccordionContext} from \"./Accordion.js\";\r\n\r\nfunction AccordionIcon({className, children}) {\r\n    const accordion = useContext(AccordionContext); \r\n    return (\r\n        <span className = {`${className || \"accordion-icon\"} ${accordion.isActive ? \"active\" : \"inactive\"}`}>\r\n            {children}\r\n        </span>\r\n    );\r\n} \r\n\r\nexport default AccordionIcon;","import React, {useContext, useRef, useLayoutEffect, useEffect} from \"react\";\r\nimport {AccordionContext} from \"./Accordion.js\";\r\n\r\nfunction AccordionContent({children}) {\r\n    const wrapper = useRef();\r\n    const accordion = useContext(AccordionContext);\r\n\r\n    useEffect(() => {\r\n        const observer = new MutationObserver(() => {\r\n            wrapper.current.style.height = \r\n            accordion.isActive ? `${wrapper.current.scrollHeight}px` : `0px`;\r\n        })\r\n        observer.observe(wrapper.current, {childList: true, subtree: true});\r\n        return () => observer.disconnect();\r\n    }, [accordion.isActive]);\r\n\r\n    useLayoutEffect(() => {\r\n        wrapper.current.style.height = \r\n        accordion.isActive ? `${wrapper.current.scrollHeight}px` : `0px`;\r\n    });\r\n    \r\n    return (\r\n        <div ref = {wrapper} className = \"accordion-wrapper\">\r\n            <div className = \"accordion-content\">\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AccordionContent;","import React from \"react\";\r\nimport {Accordion} from \"../../components/accordion/Accordion.js\";\r\nimport AccordionHead from \"../../components/accordion/AccordionHead.js\";\r\nimport AccordionIcon from \"../../components/accordion/AccordionIcon.js\";\r\nimport AccordionContent from \"../../components/accordion/AccordionContent.js\";\r\nimport StudentContainer from \"../../components/student/StudentInfo.js\";\r\nimport {accordions} from \"./ApiLists.js\";\r\n\r\nfunction Accordions() {\r\n    return (\r\n        accordions.map(accordion => (\r\n            <Accordion key = {accordion.id}>\r\n                <AccordionHead title = {accordion.title}>\r\n                    <AccordionIcon>\r\n                        {\"+\"}\r\n                    </AccordionIcon>\r\n                </AccordionHead>\r\n                <AccordionContent>\r\n                    <StudentContainer \r\n                    source = {accordion.content.source} \r\n                    notFound = {accordion.content.notFound} \r\n                    loading = {<p>Cargando...</p>}\r\n                    >\r\n                        {student => {\r\n                            const content = accordion.content.formatAs(student);\r\n                            return content ? <p>{content}</p> : null;\r\n                        }}\r\n                    </StudentContainer>\r\n                </AccordionContent>\r\n            </Accordion>\r\n        ))\r\n    );\r\n}\r\n\r\nexport default Accordions;","import React from \"react\";\r\n\r\nconst StudentContext = React.createContext({uuid: -1});\r\n\r\nfunction StudentWrapper({children}) {\r\n    const uuid = new URLSearchParams(window.location.search).get(\"uuid\") || -1;\r\n    return (\r\n        <StudentContext.Provider value = {{uuid}}>\r\n            {children}\r\n        </StudentContext.Provider>\r\n    );\r\n}\r\n\r\nexport {StudentWrapper, StudentContext};","import {useState} from \"react\";\r\nimport {useRegularFields} from \"./useFields\";\r\nimport axios from \"axios\";\r\n\r\nfunction useRegisterSubmit(studentRef, studentFields) {\r\n    const [formSubmit, setFormSubmit] = useState({submitted: [], issued: 0});\r\n    const [formError, setFormError] = useState({error: null, issued: 0});\r\n    const [formFields] = useRegularFields(studentFields);\r\n    function addSubmitted() {\r\n        setFormSubmit(previous => (\r\n            {submitted: [...previous.submitted, \r\n            {student: studentRef.current, issuedAt: Date.now(), issuedToken: previous.issued + 1}], \r\n            issued: previous.issued + 1}\r\n        ));\r\n    }\r\n    function onRegisterSubmit(event) {\r\n        event.preventDefault();\r\n        const student = studentRef.current;\r\n        let form = event.target;\r\n        axios.post(\"/api/students\", student)\r\n        .then(response => { addSubmitted(); form.reset(); form = null; studentRef.current = {}; })\r\n        .catch(err => setFormError(previous => (\r\n            {error: {failure: err, issuedAt: Date.now(), issuedToken: previous.issued + 1},\r\n            issued: previous.issued + 1}\r\n        )));\r\n    }\r\n    return [formSubmit.submitted, formError.error, formFields, onRegisterSubmit];\r\n}\r\n\r\nexport default useRegisterSubmit;","import {useEffect, useState, useContext} from \"react\";\r\nimport {StudentContext} from \"../context/StudentContext.js\";\r\nimport axios, {CancelToken} from \"axios\";\r\n\r\nfunction useRegularFields(studentFields) {\r\n    const [regularFields] = useState(studentFields.fields);\r\n    return [regularFields];\r\n}\r\n\r\nfunction useInitializedFields(studentFields, counts) {\r\n    const [initializedFields, setInitializedFields] = useState(studentFields.fields);\r\n    const studentUUID = useContext(StudentContext).uuid;\r\n    useEffect(() => {\r\n        let cancelInit;\r\n        function fetchFieldData() {\r\n            axios.get(`/api/students?uuid=${studentUUID}`, {cancelToken: new CancelToken(cancelToken => cancelInit = cancelToken)})\r\n            .then(response => { \r\n                if (!Array.isArray(response.data) || response.data.length !== 1) throw new Error();\r\n                const student = response.data[0]; \r\n                setInitializedFields(rawFields => {\r\n                    return Object.keys(rawFields).reduce((initialized, field) => {\r\n                        initialized[field] = rawFields[field]; //COPY\r\n                        initialized[field].defaultValue = \r\n                            rawFields[field].type === \"date\" ? student[field].split(\"T\")[0] : String(student[field]); //INITIALIZE VALUE\r\n                        return initialized;\r\n                    }, Object.create(null));\r\n                });\r\n            })\r\n            .catch(e => /*axios.isCancel(e)*/ undefined); //DO SOMETHING\r\n        }\r\n        fetchFieldData();\r\n        return () => cancelInit();\r\n    }, [studentUUID, counts.submittedCount, counts.errorCount]);\r\n    return [initializedFields];\r\n}\r\n\r\nexport {useRegularFields, useInitializedFields};","import axios from \"axios\";\r\nimport {StudentContext} from \"../context/StudentContext.js\"\r\nimport {ToggleContext} from \"../components/toggleable/Toggleable.js\";\r\nimport {useState, useContext} from \"react\";\r\nimport {useInitializedFields} from \"./useFields\";\r\n\r\nfunction useUpdateSubmit(studentRef, studentFields) {\r\n    const toggleable = useContext(ToggleContext);\r\n    const studentUUID = useContext(StudentContext).uuid;\r\n    const [formSubmit/*, setFormSubmit*/] = useState({update: null, issued: 0});\r\n    const [formError, setFormError] = useState({error: null, issued: 0});\r\n    const [formFields] = useInitializedFields(studentFields, {submittedCount: formSubmit.issued, errorCount: formError.issued});\r\n    function onUpdateSubmit(event) {\r\n        event.preventDefault();\r\n        const update = studentRef.current;\r\n        let form = event.target;\r\n        axios.put(`/api/students/update?uuid=${studentUUID}`, update) //INTEGRATE UUID\r\n        .then(response => { \r\n            form.reset(); studentFields.reset(); form = null;\r\n            studentRef.current = {}; \r\n            toggleable.setStatus(0); //TOGGLE TO REMOVE EDITING VIEW\r\n            /*setFormSubmit(previous => ( \r\n                {update: {payload: update, issuedAt: Date.now(), issuedToken: previous.issued + 1},\r\n                issued: previous.issued + 1}\r\n            ));*/        \r\n        })\r\n        .catch(err => {\r\n            /*form.reset(); \r\n            studentFields.reset();\r\n            studentRef.current = {};*/\r\n            form = null;\r\n            setFormError(previous => (\r\n                {error: {failure: err, issuedAt: Date.now(), issuedToken: previous.issued + 1},\r\n                issued: previous.issued + 1}\r\n            ));\r\n        });\r\n    }\r\n    return [formSubmit.update, formError.error, formFields, onUpdateSubmit];\r\n}\r\n\r\nexport default useUpdateSubmit;","import React, {useRef} from \"react\";\r\n\r\nfunction StudentSubmit(useStudentSubmit) {\r\n    return function StudentRegister({fields, renderSubmitted, renderError}) {\r\n        const [studentRef, onStudentInput] = useStudentInput();\r\n        const [formSubmitted, formError, formFields, onStudentSubmit] = useStudentSubmit(studentRef, fields);\r\n        return (\r\n            <div className = \"app-register\">\r\n                <form onSubmit = {onStudentSubmit}>\r\n                    {Object.keys(formFields).map(field => {\r\n                        return <label key = {field}>\r\n                            {formFields[field].label}\r\n                            <input \r\n                            type = {formFields[field].type || \"text\"}\r\n                            defaultValue = {formFields[field].defaultValue || \"\"} \r\n                            name = {field}\r\n                            onInput = {onStudentInput}\r\n                            required = {true}\r\n                            />\r\n                        </label>\r\n                     })}\r\n                    <button type = \"submit\" className = \"register-btn\">Subir</button>\r\n                    {renderSubmitted && renderSubmitted(formSubmitted)}\r\n                    {(renderError && formError) && renderError(formError)}\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction useStudentInput() {\r\n    const studentRef = useRef({});\r\n    function onStudentInput(event) {\r\n        Object.assign(studentRef.current, {[event.target.name]: event.target.value});\r\n    }\r\n    return [studentRef, onStudentInput];\r\n}\r\n\r\nexport default StudentSubmit;","import useRegisterSubmit from \"../../hooks/useRegisterSubmit.js\";\r\nimport useUpdateSubmit from \"../../hooks/useUpdateSubmit.js\";\r\nimport StudentSubmit from \"../../hoc/StudentSubmit.js\";\r\n\r\nconst StudentRegister = StudentSubmit(useRegisterSubmit);\r\nconst StudentUpdate = StudentSubmit(useUpdateSubmit);\r\n\r\nclass StudentFields {\r\n    constructor(fields) {\r\n        this.fields = fields;\r\n    }\r\n    reset() {\r\n        for (const field in this.fields) { delete this.fields[field].defaultValue; }\r\n    }\r\n    add(fields) {\r\n        this.fields = {...this.fields, fields};\r\n    }\r\n}\r\n\r\nexport {StudentRegister, StudentUpdate, StudentFields};\r\n\r\n\r\n","import React, {useState} from \"react\";\r\nimport StudentContainer from \"../student/StudentInfo.js\";\r\n\r\nfunction StudentSearch() {\r\n    const [query, setQuery] = useState(\"$\");\r\n    return (\r\n        <div className = \"app-search\">\r\n            <SearchBar setQuery = {setQuery} />\r\n            <SearchResults query = {query} />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction SearchBar({setQuery}) {\r\n    return (\r\n        <div className = \"search-bar\">\r\n           <input type = \"text\" onChange = {event => {\r\n               setQuery(event.target.value || \"$\");\r\n           }}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction SearchResults({query}) {\r\n    return (\r\n        <div className = \"search-results\">\r\n            <StudentContainer\r\n                source = {`/api/students?autocomplete_fullname=${query}`}\r\n                notFound = \"Aqui se muestran los resultados encontrados...\"\r\n            >\r\n                {student => (\r\n                            <div className = \"search-result-wrapper\">\r\n                                <a className = \"search-result-link\" href = {`/student?uuid=${student.uuid}`}>\r\n                                    <div className = \"search-result-info\">\r\n                                        <p>{student.fullname}</p>\r\n                                        <p>Ingresó: {student.enroll.split(\"T\")[0]}</p>\r\n                                        <p>Paga: ${student.fee}, Pagó este mes: ${student[\"pay-current\"]}</p>\r\n                                    </div>\r\n                                </a>\r\n                            </div>\r\n                )}                \r\n            </StudentContainer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StudentSearch;","import React, {useState, useEffect} from \"react\";\r\n\r\nfunction Card({children, type}) {\r\n    return (\r\n        <div className = {`card-${type}`}>{children}</div>\r\n    );\r\n}\r\n\r\nfunction FlashCard({children, type, duration}) {\r\n    const isExpired = duration > 0 ? false : true;\r\n    const [expired, setExpired] = useState(isExpired);\r\n    useEffect(() => { \r\n        if (!expired) {\r\n            let disappear = setTimeout(() => setExpired(true), duration * 1000);\r\n            return () => { clearTimeout(disappear) };\r\n        }\r\n    });\r\n    return (!expired && <Card type = {type}>{children}</Card>);\r\n}\r\n\r\nexport {Card, FlashCard};","import React from \"react\";\r\nimport {Toggleable} from \"../../components/toggleable/Toggleable\";\r\nimport {Toggler, TogglerButton, Toggling} from \"../../components/toggleable/Toggled.js\"\r\nimport {ToggledState} from \"../../components/toggleable/ToggledState.js\";\r\nimport {StudentRegister, StudentFields} from \"../../components/apps/StudentSubmit.js\";\r\nimport StudentSearch from \"../../components/apps/StudentSearch.js\";\r\nimport {FlashCard} from \"../../components/cards/Cards.js\";\r\n\r\nfunction HomeApps() {\r\n\r\n    return (\r\n        <Toggleable initialStatus = {0} className = \"apps-student\">\r\n            <Toggler className = \"apps-choices\">\r\n                <TogglerButton caption = \"Registrar Alumno\" status = {1} />\r\n                <TogglerButton caption = \"Buscar Alumno\" status = {2} />\r\n            </Toggler>\r\n            <Toggling>\r\n                <ToggledState status = {[1]}>\r\n                    <StudentRegister fields = {fields}                 \r\n                    renderSubmitted = {submitted => {\r\n                        const now = Date.now();\r\n                        return submitted.map(submit => {\r\n                            const expiresIn = 2.5 - (now - submit.issuedAt) / 1000;\r\n                            return expiresIn > 0\r\n                            ? <FlashCard type = \"success\" duration = {expiresIn} key = {submit.issuedToken}>\r\n                                {\"Alumno fue registrado correctamente!\"}\r\n                            </FlashCard>\r\n                            : null;\r\n                        });\r\n                    }}\r\n                    renderError = {error => {\r\n                        const expiresIn = 2.5 - (Date.now() - error.issuedAt) / 1000;\r\n                        return expiresIn > 0\r\n                        ? <FlashCard type = \"error\" duration = {expiresIn} key = {error.issuedToken}>\r\n                            {\"Hubo un problema para registrar alumno!\"}\r\n                        </FlashCard>\r\n                        : null;\r\n                    }} \r\n                    />\r\n                </ToggledState>\r\n                <ToggledState status = {[2]}>\r\n                    <StudentSearch />\r\n                </ToggledState>\r\n            </Toggling>\r\n        </Toggleable>\r\n    )\r\n}\r\n\r\nconst fields = new StudentFields(\r\n    {\r\n        name: {label: \"Nombre:\"},\r\n        lastname: {label: \"Apellido:\"},\r\n        birth: {label: \"Fecha de Nacimiento:\", type: \"date\"},\r\n        enroll: {label: \"Fecha de Ingreso:\", type: \"date\"},\r\n        level: {label: \"Nivel:\"},\r\n        fee: {label: \"Cuota:\"} \r\n    }\r\n);\r\n\r\nexport default HomeApps;","import React from \"react\";\r\nimport Header from \"../layout/Header.js\";\r\nimport Notifications from \"../layout/Notifications.js\";\r\nimport Title from \"../layout/home/Title.js\";\r\nimport Accordions from \"../layout/home/Accordions.js\";\r\nimport StudentApps from \"../layout/home/HomeApps.js\";\r\nimport \"./HomeStyle.css\";\r\n\r\nfunction Home() { \r\n    return (\r\n        <> {/*CONTAINER*/}\r\n            <Header>\r\n                <Notifications />\r\n            </Header>\r\n            <> {/*CONTENT*/}\r\n                <Title className = \"title-main\" title = \"Kumon\" subtitle = \"Paseo de la Cultura\">\r\n                    {/* DO SOMETHING HERE IN CONTENT */}\r\n                </Title>\r\n                <Accordions />\r\n                <StudentApps />\r\n            </>\r\n            <> {/*FOOTER*/} \r\n            </>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home;","import React, {useContext, useRef, useState} from \"react\";\r\nimport {StudentContext} from \"../../context/StudentContext.js\";\r\n\r\nfunction StudentFileUpload({initialSource, filetype, renderFile}) {\r\n    const studentUUID = useContext(StudentContext).uuid;\r\n    const [source, setSource] = useState({src: initialSource, timestamp: Date.now()});\r\n    const fileToUpload = useRef();\r\n    function onFileSelect(event) { fileToUpload.current = event.target.files[0]; }\r\n    function onFileUpload(event) { \r\n        event.preventDefault();\r\n        fetch(`/api/students/upload/${filetype}?uuid=${studentUUID}`, {method: \"POST\", body: fileToUpload.current})\r\n        .then(response => response.json())\r\n        .then(source => {\r\n            setSource({src: source.src, timestamp: Date.now()});\r\n        });    \r\n    }\r\n    return (\r\n        <>\r\n            {renderFile && renderFile(source.src, source.timestamp)}\r\n            <form onSubmit = {onFileUpload}>\r\n                <input type = \"file\" onInput = {onFileSelect}/>\r\n                <button type = \"submit\"> Subir </button>\r\n            </form> \r\n        </>\r\n    );\r\n}\r\n\r\nfunction StudentPhoto({initialSource}) {\r\n    const fileType = \"photo\";\r\n    function onPhotoError(event) { event.target.src = `./media/students/${fileType}/placeholder.jpg`; }\r\n    return (\r\n        <StudentFileUpload initialSource = {initialSource} filetype = {fileType}\r\n            renderFile = {(source, timestamp) => {\r\n                return <div className = \"student-photo\">\r\n                    <img className = \"student-avatar\"\r\n                        src = {source\r\n                        ? `/media/students/${source}?${timestamp}` \r\n                        : `/media/students/photo/placeholder.jpg?${timestamp}`} \r\n                        alt = \"student-avatar\"\r\n                        onError = {onPhotoError}\r\n                       />\r\n                </div>;\r\n            }}   \r\n        />     \r\n    );\r\n}\r\n\r\nfunction StudentReport({initialSource}) {\r\n    const fileType = \"report\";\r\n    return (\r\n        <StudentFileUpload initialSource = {initialSource} filetype = {fileType}\r\n            renderFile = {(source, timestamp) => {\r\n                return (\r\n                    <div className = {`student-download-report ${source ? \"active\" : \"inactive\"}`}>\r\n                        {source\r\n                        ? <a className = \"student-download-content\" \r\n                        href = {`/media/students/${source}`}\r\n                        download = {`boleta`}>\r\n                            {`Descargar boleta: ${new Date().toISOString()}`}\r\n                        </a>\r\n                        : <p className = \"student-download-content\">\r\n                            {\"No has subido ninguna boleta\"}\r\n                        </p>}\r\n                    </div>\r\n                );\r\n            }}   \r\n        />     \r\n    );\r\n}\r\n\r\nexport {StudentPhoto, StudentReport};","import React, {useContext} from \"react\";\r\nimport axios from \"axios\";\r\nimport {Toggleable, ToggleContext} from \"../../components/toggleable/Toggleable.js\";\r\nimport {StudentContext} from \"../../context/StudentContext.js\";\r\nimport {Toggler, TogglerButton, Toggling} from \"../../components/toggleable/Toggled.js\";\r\nimport {ToggledState} from \"../../components/toggleable/ToggledState.js\";\r\n\r\nfunction StudentUnsubButton({caption}) {\r\n    const studentUUID = useContext(StudentContext).uuid;\r\n    function onUnsubConfirm() {\r\n\t    axios.delete(`/api/students/delete?uuid=${studentUUID}`)\r\n        .then(response => window.location.href = \"/\")\r\n        .catch(err => undefined); //DO SOMETHING\r\n    }\r\n    return (\r\n        <Toggleable initialStatus = {false}>\r\n            <Toggler>\r\n                <TogglerButton caption = {caption} status = {true} />\r\n            </Toggler>\r\n            <Toggling>\r\n                <ToggledState status = {[true]}>\r\n                    <TogglerButton caption = \"Cancelar\" status = {false} />\r\n                    <button onClick = {onUnsubConfirm}>Confirmar</button>\r\n                </ToggledState>\r\n            </Toggling>\r\n        </Toggleable>\r\n    );\r\n}\r\n\r\nfunction StudentEditButton({caption}) {\r\n    const toggleable = useContext(ToggleContext);\r\n    const onEdit = () => toggleable.setStatus(1);\r\n    return (\r\n        <button onClick = {onEdit}>{caption}</button>\r\n    );\r\n}\r\n\r\nexport {StudentUnsubButton, StudentEditButton};","import React, {useContext} from \"react\"\r\nimport StudentContainer from \"../../components/student/StudentInfo.js\";\r\nimport {StudentPhoto, StudentReport} from \"../../components/apps/StudentFileUpload.js\";\r\nimport {ToggleContext} from \"../../components/toggleable/Toggleable.js\";\r\nimport {StudentContext} from \"../../context/StudentContext.js\";\r\nimport {StudentUnsubButton, StudentEditButton} from \"./StudentButtons.js\";\r\n\r\nfunction StudentInfo() {\r\n    const student = useContext(StudentContext);\r\n    const toggleable = useContext(ToggleContext);\r\n    return (\r\n        <StudentContainer source = {`/api/students?uuid=${student.uuid}`}\r\n            notFound = \"No se encontro alumno...\"\r\n            loading =  \"Cargando...\"\r\n            timestamp = {toggleable.timestamp}\r\n        >\r\n            {student => ( \r\n                <div className = \"student-data\">\r\n                    <StudentPhoto initialSource = {student[\"photo-src\"]}/> \r\n                    <div className = \"student-info\">\r\n                        <p>Nombre: {student.name}</p> \r\n                        <p>Apellido: {student.lastname}</p>\r\n                        <p>Fecha de Nacimiento: {student.enroll.split(\"T\")[0]}</p>\r\n                        <p>Fecha de Ingreso: {student.enroll.split(\"T\")[0]}</p>\r\n                        <p>Nivel: {student.level}</p>\r\n                        <p>Cuota: {student.fee}</p>\r\n                        <p>Pago de Mes Actual: {student[\"pay-current\"]}</p>\r\n                        <p>Pago de Mes Anterior: {student[\"pay-last\"]}</p>\r\n                        <StudentReport initialSource = {student[\"report-src\"]}/> \r\n                        <StudentUnsubButton caption = \"Dar de Baja\"/>\r\n                        <StudentEditButton caption = \"Editar\"/>\r\n                    </div>  \r\n                </div>    \r\n            )}   \r\n        </StudentContainer>\r\n    );\r\n}\r\n\r\nexport default StudentInfo;\r\n","import React from \"react\";\r\nimport {Toggleable} from \"../../components/toggleable/Toggleable.js\";\r\nimport {Toggling} from \"../../components/toggleable/Toggled.js\";\r\nimport {ToggledState} from \"../../components/toggleable/ToggledState.js\";\r\nimport {StudentUpdate, StudentFields} from \"../../components/apps/StudentSubmit.js\";\r\nimport {FlashCard} from \"../../components/cards/Cards.js\";\r\nimport StudentInfo from \"./StudentInfo.js\";\r\n\r\nfunction StudentApps() {\r\n    return (\r\n        <Toggleable initialStatus = {0}>\r\n            <Toggling>\r\n                <ToggledState status = {[0, 1]}>\r\n                    <StudentInfo />\r\n                </ToggledState>\r\n                <ToggledState status = {[1]}>\r\n                    <StudentUpdate fields = {fields}\r\n                    renderError = {error => {\r\n                        const expiresIn = 2.5 - (Date.now() - error.issuedAt) / 1000;\r\n                        return expiresIn > 0\r\n                        ? <FlashCard type = \"error\" duration = {expiresIn} key = {error.issuedToken}>\r\n                            {\"Hubo un problema para actualizar alumno!\"}\r\n                        </FlashCard>\r\n                        : null;\r\n                    }}\r\n                    />\r\n                </ToggledState>\r\n            </Toggling>\r\n        </Toggleable>\r\n    );\r\n}  \r\n\r\nconst fields = new StudentFields(\r\n    { \r\n        name: {label: \"Nombre:\"},\r\n        lastname: {label: \"Apellido:\"},\r\n        enroll: {label: \"Fecha de Ingreso\", type: \"date\"},\r\n        birth: {label: \"Fecha de Nacimiento\", type: \"date\"},\r\n        level: {label: \"Nivel\"},\r\n        fee: {label: \"Cuota\"},\r\n        \"pay-current\": {label: \"Pago de Mes Actual\"},\r\n        \"pay-last\": {label: \"Pago de Mes Anterior\"}\r\n    }\r\n);\r\n\r\nexport default StudentApps;","import React from \"react\";\r\nimport Header from \"../layout/Header.js\";\r\nimport StudentApps from \"../layout/student/StudentApps.js\";\r\nimport {StudentWrapper} from \"../context/StudentContext.js\";\r\n\r\nfunction Student() {\r\n    return (\r\n        <StudentWrapper>\r\n            <Header>\r\n\r\n            </Header>\r\n            <> {/* CONTENT WRAPPER */}\r\n                <StudentApps />\r\n            </>\r\n        </StudentWrapper>\r\n    );\r\n}\r\n\r\nexport default Student;","import React from \"react\";\r\n\r\nfunction NotFound() {\r\n    return <h1> Not Found </h1>;\r\n}\r\n\r\nexport default NotFound;","import React from \"react\";\r\nimport {Switch, Route, BrowserRouter as Router} from \"react-router-dom\";\r\nimport HomePage from \"../pages/HomePage.js\";\r\nimport StudentPage from \"../pages/StudentPage.js\";\r\nimport NotFoundPage from \"../pages/NotFoundPage.js\";\r\n\r\nfunction PageRouter() {\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route exact path = \"/\">\r\n                    <HomePage />\r\n                </Route>\r\n                <Route exact path = \"/student\">\r\n                    <StudentPage />\r\n                </Route>\r\n                <Route path = \"*\">\r\n                    <NotFoundPage />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    );\r\n}\r\n\r\n\r\nexport default PageRouter;","import React from \"react\";\nimport PageRouter from \"./services/PageRouter.js\"\n\nfunction App() {\n  return (<PageRouter />);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}